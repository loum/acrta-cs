version: '3.7'

services:
  hive:
    image: loum/hadoop-hive:3.2.1-3.1.2-1
    container_name: hive
    volumes:
      - ./data:/data
      - ./schemas:/schemas
      - ./scripts:/scripts
    ports:
      - 10000:10000

  zeppelin:
    image: loum/zeppelin-hive:${HASH}
    build:
      context: docker/zeppelin-hive
    container_name: zeppelin
    environment:
      ZEPPELIN_LOG_DIR: /logs
      ZEPPELIN_NOTEBOOK_DIR: /notebook
      ZEPPELIN_ADDR: 0.0.0.0
    volumes:
      - ./docker/zeppelin-hive/notebook:/notebook
      - ./logs:/logs
    ports:
      - 8080:8080
